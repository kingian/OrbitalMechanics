<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>svg.js example</title>
	<script src="svg.min.js"></script>
	
</head>
<body>
	<div id="paper"></div>
<script>
	
	function circleByX(a,x,r)
	{
		return Math.sqrt((Math.pow(-a,2)+(2*a*x)+Math.pow(r,2)-Math.pow(x,2)))
	}
	
	var draw = SVG('paper').size(1500, 1500)
	var ellipse = draw.ellipse(10, 11).attr({ fill: '#f00' })
//	ellipse.animate(2000,">").move(150, 150)
	var a = 250; // x offset for circular path
	var b = 50; // y offset for circular path

	var r = 10 // radius of path
	var d = 1// rate of change
	var dir = 1; // direction of travel
	var x = a-r; // actual x pos
	var y // actual y pos
	setInterval(function () {

		if(x<(a-r))
		{
			dir *=-1;
			x = a-r;
		}
		if(x>(a+r))
		{
			dir *= -1;
			x = a+r;
		}
		x = x+(d*dir)
		
		if(dir<0)
		{
			console.log("inner value:" + circleByX(a,x,r))
			y = circleByX(a,x,r) + b;
			
		}
		else
		{
			console.log("inner value:" + circleByX(a,x,r))
			y = b - circleByX(a,x,r);
		}
		ellipse.move(x,y);
		console.log(x+":"+y)

	},500)
	
	
</script>
</body>
</html>
